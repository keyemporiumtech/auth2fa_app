<ion-text>
	<h1>Modulo authentication</h1>
</ion-text>

<ion-list>
	<ion-item button (click)="verifyToken()">
		<ion-label>Verifica token</ion-label>
	</ion-item>
	<ion-item button (click)="set('LOGIN')">
		<ion-label>Test login</ion-label>
	</ion-item>
	<ion-item button (click)="set('VERIFY')">
		<ion-label>Test login con pin</ion-label>
	</ion-item>
	<ion-item button (click)="set('PROFILES')" [disabled]="!enableProfiles">
		<ion-label>Vedi i profili e i permessi</ion-label>
	</ion-item>
	<ion-item button (click)="logout()" [disabled]="!enableProfiles">
		<ion-label>Logout</ion-label>
	</ion-item>
	<ion-item button (click)="set('USER-OAUTH')">
		<ion-label>Test Oauth external</ion-label>
	</ion-item>
	<ion-item button (click)="set('A2FA')" [disabled]="!enableProfiles">
		<ion-label>Generatore Codici Auth 2FA</ion-label>
	</ion-item>
	<ion-item button (click)="set('A2FA_VERIFY')">
		<ion-label>Test Verifica Codici Auth 2FA</ion-label>
	</ion-item>
</ion-list>

<div *ngIf="view" class="ion-padding-vertical">
	<a class="float-right" (click)="set(undefined)">X</a>
	<wiki-test-login *ngIf="view === 'LOGIN'"></wiki-test-login>
	<wiki-test-verify *ngIf="view === 'VERIFY'"></wiki-test-verify>
	<wiki-test-profiles *ngIf="view === 'PROFILES' && enableProfiles"></wiki-test-profiles>
	<wiki-test-user-oauth *ngIf="view === 'USER-OAUTH'"></wiki-test-user-oauth>
	<wiki-test-a2fa *ngIf="view === 'A2FA'"></wiki-test-a2fa>
	<wiki-test-a2fa-check *ngIf="view === 'A2FA_VERIFY'"></wiki-test-a2fa-check>
</div>

<div *ngIf="resultVerify" class="ion-padding-vertical">
	<div [innerHTML]="resultVerify"></div>
</div>
